require=function a(l,d,r){function c(t,e){if(!d[t]){if(!l[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(s)return s(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=d[t]={exports:{}};l[t][0].call(o.exports,function(e){return c(l[t][1][e]||e)},o,o.exports,a,l,d,r)}return d[t].exports}for(var s="function"==typeof require&&require,e=0;e<r.length;e++)c(r[e]);return c}({BackButton:[function(e,t,i){"use strict";cc._RF.push(t,"c52f5xs8z1DuaOQRso0WpGZ","BackButton"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,a=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onClick=function(){this.node.active=!1},t=__decorate([o],t)}(cc.Component));i.default=a,cc._RF.pop()},{}],HomePageCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"120d7T63LpOs6aN2ADQZ3/r","HomePageCtrl"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./Socket"),n=e("./TipsCtrl"),a=cc._decorator,l=a.ccclass,d=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.thumbnailVideo=null,e.tips=null,e.web=null,e.allVideoData=new Array,e.isListen=!0,e.awaitMessageNum=0,e}return __extends(e,t),e.prototype.start=function(){this.content=this.node.getChildByName("Home").getChildByName("mask").getChildByName("content"),this.WindowsHeight=this.node.getChildByName("Home").height,this.LoadVideoPrefab(),this.videoPlayer=this.node.getChildByName("PlayVideos")},e.prototype.playerType=function(){this.node.getChildByName("Menu").getChildByName("SelfButton").active=!1,this.node.getChildByName("Menu").getChildByName("UpButton").active=!1,this.node.getChildByName("Menu").getChildByName("RankButton").active=!0},e.prototype.LoadVideoPrefab=function(){var e={type:2,id:this.content.childrenCount.toString()};this.awaitMessageNum++,this.node.parent.getComponent(o.default).sendMessage(e,this,"getMessage")},e.prototype.getMessage=function(e){var t=JSON.parse(e),i=function(e){if(0!=t[e].video_id){n.allVideoData.push({video_id:t[e].video_id,video_url:t[e].video_url});var i=cc.instantiate(n.thumbnailVideo);i.name=n.content.childrenCount.toString(),i.parent=n.content,cc.loader.load(t[e].video_img,function(e,t){i.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)}),i.getChildByName("like").getChildByName("Label").getComponent(cc.Label).string=t[e].fabulous,i.on("click",n.playVideo,n)}},n=this;for(var o in t)i(o);this.awaitMessageNum--,0==this.awaitMessageNum&&(this.isListen=!0)},e.prototype.ListenerScroll=function(){this.isListen&&this.content.y>=this.content.height-this.WindowsHeight&&(this.isListen=!1,this.LoadVideoPrefab())},e.prototype.playVideo=function(e){this.videoFrom=e.target.parent.parent.parent.name;var t=new Array;t="Home"==this.videoFrom?this.allVideoData:"selfVideos"==this.videoFrom?this.playerVideoData.myvideo:this.playerVideoData.othervideo,this.videoRank=parseInt(e.target.name),0==this.videoRank?this.videoPlayer.getChildByName("Bg").getChildByName("up").active=!1:this.videoPlayer.getChildByName("Bg").getChildByName("up").active=!0,this.videoRank==t.length-1?this.videoPlayer.getChildByName("Bg").getChildByName("dn").active=!1:this.videoPlayer.getChildByName("Bg").getChildByName("dn").active=!0,this.videoPlayer.active=!0;var i=this.videoPlayer.getChildByName("playVideo").getChildByName("VideoPlayer");i.getComponent(cc.VideoPlayer).remoteURL=t[this.videoRank].video_url,i.getComponent(cc.VideoPlayer).play();var n={type:3,id:t[this.videoRank].video_id};this.node.parent.getComponent(o.default).sendMessage(n,this,"getVideoMessge")},e.prototype.changeVideo=function(e){var t=new Array;t="Home"==this.videoFrom?this.allVideoData:"selfVideos"==this.videoFrom?this.playerVideoData.myvideo:this.playerVideoData.othervideo,"up"==e.target.name?this.videoRank--:this.videoRank++,0==this.videoRank?this.videoPlayer.getChildByName("Bg").getChildByName("up").active=!1:this.videoPlayer.getChildByName("Bg").getChildByName("up").active=!0,this.videoRank==t.length-1?this.videoPlayer.getChildByName("Bg").getChildByName("dn").active=!1:this.videoPlayer.getChildByName("Bg").getChildByName("dn").active=!0,this.videoPlayer.active=!0;var i=this.videoPlayer.getChildByName("playVideo").getChildByName("VideoPlayer");i.getComponent(cc.VideoPlayer).remoteURL=t[this.videoRank].video_url,i.getComponent(cc.VideoPlayer).play();var n={type:3,id:t[this.videoRank].video_id};this.node.parent.getComponent(o.default).sendMessage(n,this,"getVideoMessge")},e.prototype.getVideoMessge=function(e){var t=JSON.parse(e);this.playerData=t,this.videoPlayer.active=!0;var i=this.videoPlayer.getChildByName("Bg");cc.loader.load(t.img,function(e,t){i.getChildByName("iconMask").getChildByName("icon").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)}),i.getChildByName("type").getComponent(cc.Label).string=t.tag,1==t.flag?i.getChildByName("v").getComponent(cc.Button).interactable=!1:i.getChildByName("v").getComponent(cc.Button).interactable=!0,i.getChildByName("v").getChildByName("New Label").getComponent(cc.Label).string=t.fabulous,i.getChildByName("comment").getChildByName("New Label").getComponent(cc.Label).string=t.comment_num},e.prototype.agenPlay=function(e,t){t==cc.VideoPlayer.EventType.COMPLETED&&e.play()},e.prototype.closeVideoPlayer=function(){this.videoPlayer.getChildByName("Bg").getChildByName("up").active=!0,this.videoPlayer.getChildByName("Bg").getChildByName("dn").active=!0,this.videoPlayer.active=!1},e.prototype.onClickFindButton=function(){this.videoPlayer.active=!1;var e=this.node.getChildByName("Other");e.active=!0,e.getChildByName("findBar").active=!0},e.prototype.onStartFind=function(e){var t=e.target.parent.getChildByName("editBox").getComponent(cc.EditBox).string;if(null!=t){var i={type:4,id:t};this.node.parent.getComponent(o.default).sendMessage(i,this,"getSelfVideos")}this.node.getChildByName("Other").active=!0,this.node.getChildByName("Other").getChildByName("informations").active=!0},e.prototype.onBackFind=function(e){var t=e.target.parent.parent;t.active=!1,t.getChildByName("findBar").active=!1,t.getChildByName("informations").active=!1,this.videoPlayer.active=!0,this.videoPlayer.getChildByName("playVideo").getChildByName("VideoPlayer").getComponent(cc.VideoPlayer).play()},e.prototype.onClickIcon=function(){this.node.getChildByName("Other").active=!0,this.node.getChildByName("Menu").active=!1,this.node.getChildByName("Other").getChildByName("informations").active=!0,this.closeVideoPlayer();var e={type:4,id:this.playerData.userid};this.node.parent.getComponent(o.default).sendMessage(e,this,"getSelfVideos")},e.prototype.onClickFabulousButton=function(){var e={type:5,id:this.playerData.video_id};this.node.parent.getComponent(o.default).sendMessage(e);var t=this.videoPlayer.getChildByName("Bg").getChildByName("v").getChildByName("New Label").getComponent(cc.Label);t.string=(parseInt(t.string)+1).toString(),this.videoPlayer.getChildByName("Bg").getChildByName("v").getComponent(cc.Button).interactable=!1},e.prototype.onClockCommentButton=function(){this.videoPlayer.active=!1,this.node.getChildByName("CommentPanel").active=!0;var e={type:7,id:this.playerData.video_id};this.node.parent.getComponent(o.default).sendMessage(e,this,"getComponent")},e.prototype.getComponent=function(e){var t=JSON.parse(e).com;this.commentData=t,this.node.getChildByName("CommentPanel").getChildByName("numPanel").getChildByName("New Label").getComponent(cc.Label).string=t.length+"条评论";var i=function(e){var i=cc.instantiate(n.node.getChildByName("CommentPanel").getChildByName("ScrollView").getChildByName("view").getChildByName("conment"));i.parent=n.node.getChildByName("CommentPanel").getChildByName("ScrollView").getChildByName("view").getChildByName("content"),i.active=!0,i.name=t[e].com_id.toString(),cc.loader.load(t[e].img,function(e,t){i.getChildByName("iconMask").getChildByName("icon").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)}),i.getChildByName("name").getComponent(cc.Label).string=t[e].name,i.getChildByName("label").getComponent(cc.Label).string=t[e].content,parseInt(t[e].time)<60?i.getChildByName("time").getComponent(cc.Label).string=t[e].time+"分钟前":i.getChildByName("time").getComponent(cc.Label).string=Math.floor(parseInt(t[e].time)/60).toString()+"小时前",i.height+=i.getChildByName("label").height-35,1==t[e].isfab&&(i.getChildByName("v").getComponent(cc.Button).interactable=!1),i.getChildByName("v").getChildByName("New Button").getChildByName("Label").getComponent(cc.Label).string=t[e].fab},n=this;for(var o in t)i(o)},e.prototype.addComponentV=function(e){e.target.getComponent(cc.Button).interactable=!1;var t={type:8,id:e.target.parent.name};this.node.parent.getComponent(o.default).sendMessage(t,this),e.target.getChildByName("New Button").getChildByName("Label").getComponent(cc.Label).string=(parseInt(e.target.getChildByName("New Button").getChildByName("Label").getComponent(cc.Label).string)+1).toString()},e.prototype.onCloseComment=function(){this.videoPlayer.active=!0,this.videoPlayer.getChildByName("playVideo").getChildByName("VideoPlayer").getComponent(cc.VideoPlayer).play(),this.node.getChildByName("CommentPanel").active=!1;var e=this.node.getChildByName("CommentPanel").getChildByName("ScrollView").getChildByName("view").getChildByName("content");for(var t in e.children)e.children[t].destroy()},e.prototype.addComponent=function(){var e=this.node.getChildByName("CommentPanel").getChildByName("addComment").getComponent(cc.EditBox).string;if(""!=e){var t={type:6,id:this.playerData.video_id,com:e};this.node.getChildByName("CommentPanel").getChildByName("addComment").getComponent(cc.EditBox).string="",this.node.parent.getComponent(o.default).sendMessage(t,this,"addNewComment")}},e.prototype.addNewComment=function(e){var t=JSON.parse(e),i=cc.instantiate(this.node.getChildByName("CommentPanel").getChildByName("ScrollView").getChildByName("view").getChildByName("conment"));i.parent=this.node.getChildByName("CommentPanel").getChildByName("ScrollView").getChildByName("view").getChildByName("content"),i.active=!0,i.name=t.com_id.toString(),cc.loader.load(t.img,function(e,t){i.getChildByName("iconMask").getChildByName("icon").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)}),i.getChildByName("name").getComponent(cc.Label).string=t.name,i.getChildByName("label").getComponent(cc.Label).string=t.content},e.prototype.listenerHomeButton=function(e){if(this.videoPlayer.active&&this.closeVideoPlayer(),"HomeButton"==e.target.name)this.node.getChildByName("Home").active=!0,this.node.getChildByName("Self").active=!1;else if("SelfButton"==e.target.name){this.node.getChildByName("Home").active=!1,this.node.getChildByName("Self").active=!0;this.node.parent.getComponent(o.default).sendMessage({type:4,id:0},this,"getSelfVideos")}else"RankButton"==e.target.name&&this.onClickRank()},e.prototype.getSelfVideos=function(e){var t,n=JSON.parse(e);for(var i in this.playerVideoData=n,(t=this.node.getChildByName("Self").active?this.node.getChildByName("Self").getChildByName("informations"):this.node.getChildByName("Other").getChildByName("informations")).getChildByName("change").getChildByName("selfVideoButton").getComponent(cc.Toggle).isChecked=!0,t.getChildByName("change").getChildByName("likeVideoButton").getComponent(cc.Toggle).isChecked=!1,t.getChildByName("selfVideos").active=!0,t.getChildByName("likeVideos").active=!1,t.getChildByName("selfVideos").getChildByName("Mask").getChildByName("content").children)t.getChildByName("selfVideos").getChildByName("Mask").getChildByName("content").children[i].destroy();for(var i in t.getChildByName("likeVideos").getChildByName("Mask").getChildByName("content").children)t.getChildByName("likeVideos").getChildByName("Mask").getChildByName("content").children[i].destroy();var o=t.getChildByName("information");cc.loader.load(n.img,function(e,t){o.getChildByName("iconMask").getChildByName("icon").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)}),o.getChildByName("name").getComponent(cc.Label).string=n.name,o.getChildByName("id").getComponent(cc.Label).string="员工编码："+n.userid,o.getChildByName("add").getComponent(cc.Label).string="油站："+n.department;var a=function(e){var i=cc.instantiate(l.thumbnailVideo);i.parent=t.getChildByName("selfVideos").getChildByName("Mask").getChildByName("content"),i.name=e.toString(),cc.loader.load(n.myvideo[e].video_img,function(e,t){i.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)}),i.getChildByName("like").getChildByName("Label").getComponent(cc.Label).string=n.myvideo[e].fabulous,i.on("click",l.playVideo,l),t.getChildByName("change").getChildByName("selfVideoButton").getChildByName("selfVideoNum").getComponent(cc.Label).string="作品"+(parseInt(e)+1)},l=this;for(var i in n.myvideo)a(i);var d=function(e){var i=cc.instantiate(r.thumbnailVideo);i.parent=t.getChildByName("likeVideos").getChildByName("Mask").getChildByName("content"),i.name=e.toString(),cc.loader.load(n.othervideo[e].video_img,function(e,t){i.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)}),i.getChildByName("like").getChildByName("Label").getComponent(cc.Label).string=n.othervideo[e].fabulous,i.on("click",r.playVideo,r),t.getChildByName("change").getChildByName("likeVideoButton").getChildByName("likeVideoNum").getComponent(cc.Label).string="喜欢"+(parseInt(e)+1)},r=this;for(var i in n.othervideo)d(i)},e.prototype.onClickOtherBack=function(e){this.node.getChildByName("Other").getChildByName("informations").active=!1,this.node.getChildByName("Other").active=!1,this.node.getChildByName("Menu").active=!0},e.prototype.onClickSO=function(e){"selfVideoButton"==e.target.name?(e.target.parent.parent.getChildByName("selfVideos").active=!0,e.target.parent.parent.getChildByName("likeVideos").active=!1):(e.target.parent.parent.getChildByName("selfVideos").active=!1,e.target.parent.parent.getChildByName("likeVideos").active=!0)},e.prototype.onClickRank=function(){var e=cc.instantiate(this.tips);e.parent=this.node.parent,e.getComponent(n.default).changeLabel("敬请期待公榜")},e.prototype.onClickUpButton=function(){if(this.videoPlayer.active=!1,0==this.userid){var e=cc.instantiate(this.tips);return e.parent=this.node.parent,void e.getComponent(n.default).changeLabel("作品已上传")}this.node.getChildByName("webView").active=!0,this.node.getChildByName("WebView").active=!0,this.web.url="http://app.i-mineral.cn/eim_20180528?userId="+this.userid},e.prototype.backUp=function(){this.node.getChildByName("WebView").active=!1,this.node.getChildByName("webView").active=!1},__decorate([d(cc.Prefab)],e.prototype,"thumbnailVideo",void 0),__decorate([d(cc.Prefab)],e.prototype,"tips",void 0),__decorate([d(cc.WebView)],e.prototype,"web",void 0),e=__decorate([l],e)}(cc.Component);i.default=r,cc._RF.pop()},{"./Socket":"Socket","./TipsCtrl":"TipsCtrl"}],JudgmentCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"f4beb+vB5JBDKd+dpQw+hsa","JudgmentCtrl"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./Socket"),n=e("./TipsCtrl"),a=cc._decorator,l=a.ccclass,d=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loginPanel=null,e.tips=null,e.juPanel=null,e.videos=new Array,e}return __extends(e,t),e.prototype.start=function(){this.node.parent.getComponent(o.default).sendMessage({type:9},this,"getUsers")},e.prototype.getUsers=function(e){var t=JSON.parse(e),i=this.node.getChildByName("panel1").getChildByName("other").getChildByName("ProgressBar");i.getComponent(cc.ProgressBar).progress=t.num/t.total,i.getChildByName("New Label").getComponent(cc.Label).string=t.num+"/"+t.total;var n=t.user,o=this.node.getChildByName("panel1").getChildByName("ScrollView").getChildByName("view").getChildByName("content");for(var a in n){var l=cc.instantiate(o.parent.getChildByName("user"));l.parent=o,l.active=!0,l.children[0].getComponent(cc.Label).string=n[a].employee_name,l.children[1].getComponent(cc.Label).string=n[a].employee_id,l.children[2].getComponent(cc.Label).string=t.area,"0"!=t.score&&(l.children[3].getComponent(cc.Label).string=n[a].score)}},e.prototype.onClickUser=function(e){this.node.getChildByName("panel1").active=!1,this.node.getChildByName("panel2").active=!0;var t=e.target.children[1].getComponent(cc.Label).string,i={type:10,id:t};this.playerid=t,this.node.parent.getComponent(o.default).sendMessage(i,this,"getUserType")},e.prototype.getUserType=function(e){var t=JSON.parse(e);this.node.getChildByName("panel2").getChildByName("type"+t.iden).active=!0;var i=this.node.getChildByName("panel2").getChildByName("other");cc.loader.load(t.img,function(e,t){i.getChildByName("New Sprite").getChildByName("New Sprite").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)}),i.getChildByName("name").getComponent(cc.Label).string=t.name,i.getChildByName("id").getComponent(cc.Label).string=t.uid,i.getChildByName("add").getComponent(cc.Label).string=t.depart,this.videos=t.url},e.prototype.palyVideo=function(e){this.playVideoid=e.target.name,this.node.getChildByName("video").getChildByName("VideoPlayer").getComponent(cc.VideoPlayer).remoteURL=this.videos[parseInt(this.playVideoid)-1],this.node.getChildByName("video").active=!0,this.node.getChildByName("video").getChildByName("VideoPlayer").getComponent(cc.VideoPlayer).play()},e.prototype.againPlay=function(e,t){t==cc.VideoPlayer.EventType.COMPLETED&&e.play()},e.prototype.stopVideo=function(){this.node.getChildByName("video").active=!1},e.prototype.onClickps=function(){var e;this.node.getChildByName("video").active=!1,this.node.getChildByName("ps").active=!0,(e=this.node.getChildByName("panel2").getChildByName("type0").active?this.node.getChildByName("ps").getChildByName("type0"):this.node.getChildByName("ps").getChildByName("type1")).active=!0,e.getChildByName(this.playVideoid).active=!0},e.prototype.psOver=function(e){var t,i,n=0,o=0;for(var a in 1==e.target.parent.getChildByName("type0").active?(t=e.target.parent.getChildByName("type0"),i=this.node.getChildByName("all0"),"1"==this.playVideoid?o=1:"2"==this.playVideoid?o=3:"3"==this.playVideoid?o=5:"4"==this.playVideoid?o=7:"5"==this.playVideoid&&(o=8)):(t=e.target.parent.getChildByName("type1"),i=this.node.getChildByName("all1"),"1"==this.playVideoid?o=1:"2"==this.playVideoid?o=3:"3"==this.playVideoid?o=6:"4"==this.playVideoid&&(o=7)),t.active=!1,t.getChildByName(this.playVideoid).active=!1,t.getChildByName(this.playVideoid).children){if("type1"==t.name&&7==o){var l=t.getChildByName(this.playVideoid).getComponent(cc.Slider).progress;i.getChildByName("7").getComponent(cc.Slider).progress=l,i.getChildByName("7").getChildByName("num").getComponent(cc.Label).string=Math.round(10*l)+"分",n+=Math.round(10*l);break}for(var d=0;d<3;d++){var r=t.getChildByName(this.playVideoid).children[a].children[d];i.getChildByName(o.toString()).children[d].getComponent(cc.Toggle).isChecked=!1,r.getComponent(cc.Toggle).isChecked&&(i.getChildByName(o.toString()).children[d].getComponent(cc.Toggle).isChecked=!0,n+=parseInt(r.getChildByName("New Label").getComponent(cc.Label).string))}o++}this.node.getChildByName("panel2").getChildByName(t.name).getChildByName(this.playVideoid).children[1].getComponent(cc.Label).string=n.toString(),this.node.getChildByName("ps").active=!1},e.prototype.silder=function(e){e.node.getChildByName("num").getComponent(cc.Label).string=Math.round(10*e.progress).toString()+"分"},e.prototype.onClickAllps=function(){this.node.getChildByName("backButton").getChildByName("New Label").getComponent(cc.Label).string="提交",this.node.getChildByName("panel2").getChildByName("type1").active?this.node.getChildByName("all1").active=!0:this.node.getChildByName("all0").active=!0,this.onAllpf()},e.prototype.onAllpf=function(){var e,t=0;for(var i in(e=this.node.getChildByName("all1").active?this.node.getChildByName("all1"):this.node.getChildByName("all0")).children)if(null!=e.children[i].getComponent(cc.ToggleContainer))for(var n in e.children[i].children)null!=e.children[i].children[n].getComponent(cc.Toggle)&&e.children[i].children[n].getComponent(cc.Toggle).isChecked&&(t+=parseInt(e.children[i].children[n].getChildByName("New Label").getComponent(cc.Label).string));else if(null!=e.children[i].getComponent(cc.Slider)){var o=void 0;o=4==e.children[i].children[4].getComponent(cc.Label).string.length?Math.round(10*e.children[i].getComponent(cc.Slider).progress):Math.round(5*e.children[i].getComponent(cc.Slider).progress),e.children[i].getChildByName("num").getComponent(cc.Label).string=o.toString()+"分",t+=o}e.getChildByName("bg").getChildByName("New Label").getComponent(cc.Label).string="总分"+t.toString()+"分",this.allNum=t},e.prototype.closeall=function(e){e.target.parent.parent.active=!1,this.node.getChildByName("backButton").getChildByName("New Label").getComponent(cc.Label).string="返回"},e.prototype.back=function(e){if(this.node.getChildByName("all1").active||this.node.getChildByName("all0").active){var t={type:11,id:this.playerid,num:this.allNum};this.node.parent.getComponent(o.default).sendMessage(t);var i=cc.instantiate(this.juPanel),n=this.node.parent;i.parent=n,this.node.destroy()}else if(this.node.getChildByName("panel2").active)this.node.getChildByName("panel2").active=!1,this.node.getChildByName("panel2").getChildByName("type1").active=!1,this.node.getChildByName("panel2").getChildByName("type0").active=!1,this.node.getChildByName("panel1").active=!0;else{(i=cc.instantiate(this.loginPanel)).parent=this.node.parent,this.node.destroy()}},e.prototype.openRank=function(){var e=cc.instantiate(this.tips);e.parent=this.node.parent,e.getComponent(n.default).changeLabel("敬请期待公榜")},__decorate([d(cc.Prefab)],e.prototype,"loginPanel",void 0),__decorate([d(cc.Prefab)],e.prototype,"tips",void 0),__decorate([d(cc.Prefab)],e.prototype,"juPanel",void 0),e=__decorate([l],e)}(cc.Component);i.default=r,cc._RF.pop()},{"./Socket":"Socket","./TipsCtrl":"TipsCtrl"}],LoginCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"6afedT778BG7aKfu6RpYveF","LoginCtrl"),Object.defineProperty(i,"__esModule",{value:!0});var l=e("./TipsCtrl"),d=e("./Socket"),r=e("./HomePageCtrl"),n=cc._decorator,o=n.ccclass,a=n.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tips=null,e.homePage=null,e.Judgment=null,e}return __extends(e,t),e.prototype.start=function(){this.button=this.node.getChildByName("loginButton")},e.prototype.onClick=function(e){if("LoginButton2"==e.target.name){var t=cc.instantiate(this.homePage);t.parent=this.node.parent,t.getComponent(r.default).playerType(),this.node.destroy()}else{var i=this.node.getChildByName("idEditBox").getComponent(cc.EditBox).string,n=this.node.getChildByName("pEditBox").getComponent(cc.EditBox).string;if(""==i||""==n){var o=cc.instantiate(this.tips);o.parent=this.node.parent,o.getComponent(l.default).changeLabel("请输入账号和密码")}else{var a={type:1,id:i,password:n};this.button.getComponent(cc.Button).interactable=!1,this.button.getChildByName("New Label").getComponent(cc.Label).string="登录中...",this.node.parent.getComponent(d.default).sendMessage(a,this,"confirmLogin")}}},e.prototype.confirmLogin=function(e){var t=JSON.parse(e);if(this.button.getComponent(cc.Button).interactable=!0,this.button.getChildByName("New Label").getComponent(cc.Label).string="立即登录","1"==t.id)(i=cc.instantiate(this.homePage)).parent=this.node.parent,i.getComponent(r.default).userid=t.userId,this.node.destroy();else if("2"==t.id){var i;(i=cc.instantiate(this.Judgment)).parent=this.node.parent,this.node.destroy()}else{var n=cc.instantiate(this.tips);n.parent=this.node.parent,n.getComponent(l.default).changeLabel("账号密码错误")}},__decorate([a(cc.Prefab)],e.prototype,"tips",void 0),__decorate([a(cc.Prefab)],e.prototype,"homePage",void 0),__decorate([a(cc.Prefab)],e.prototype,"Judgment",void 0),e=__decorate([o],e)}(cc.Component);i.default=c,cc._RF.pop()},{"./HomePageCtrl":"HomePageCtrl","./Socket":"Socket","./TipsCtrl":"TipsCtrl"}],PlayVideo:[function(e,t,i){"use strict";cc._RF.push(t,"1f0a6lUbZNHobGuauCUJ6ai","PlayVideo"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,a=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){this.getComponent(cc.VideoPlayer).play()},t.prototype.playVideo=function(e,t){console.log(t),this.node.parent.active=!0;var i=this.getComponent(cc.VideoPlayer);i.remoteURL=t,i.play()},t=__decorate([o],t)}(cc.Component));i.default=a,cc._RF.pop()},{}],Socket:[function(require,module,exports){"use strict";cc._RF.push(module,"44ab9Ydhu9HE4hdBkbTZMnx","Socket"),Object.defineProperty(exports,"__esModule",{value:!0});var _a=cc._decorator,ccclass=_a.ccclass,property=_a.property,Socket=function(_super){function Socket(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(Socket,_super),Socket.prototype.start=function(){this.ws=new WebSocket("ws://"+document.domain+":"+location.port+"/eim_20180528/websocket.do"),this.ws.onopen=function(e){console.log("服务器已打开")},this.ws.onerror=function(e){console.log("连接服务器失败")},this.ws.onclose=function(e){console.log("服务器关闭")};var that=this;this.ws.onmessage=function(event){null!=that.callbackObj&&eval("that.callbackObj."+that.funName+"(event.data)")}},Socket.prototype.sendMessage=function(e,t,i){void 0===t&&(t=null),void 0===i&&(i=null),this.callbackObj=t,this.funName=i;var n=JSON.stringify(e);this.ws.send(n)},Socket=__decorate([ccclass],Socket),Socket}(cc.Component);exports.default=Socket,cc._RF.pop()},{}],Start:[function(e,t,i){"use strict";cc._RF.push(t,"eb15f2P7/5AqYhJH0Sjgxa0","Start"),Object.defineProperty(i,"__esModule",{value:!0});var n=e("./TipsCtrl"),o=cc._decorator,a=o.ccclass,l=o.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isConsent=null,e.loginPanel=null,e.tips=null,e}return __extends(e,t),e.prototype.onClick=function(){var e=this.node.parent.parent;if(this.isConsent.active){cc.instantiate(this.loginPanel).parent=e,this.node.parent.destroy()}else{var t=cc.instantiate(this.tips);t.parent=e,t.getComponent(n.default).changeLabel("请阅读并同意下方协议")}},e.prototype.open=function(){this.node.parent.getChildByName("tips").active=!0},e.prototype.read=function(e){this.node.parent.getChildByName("tips").active=!1,"ok"==e.target.name?this.node.parent.getChildByName("consentButton").getComponent(cc.Toggle).isChecked=!0:this.node.parent.getChildByName("consentButton").getComponent(cc.Toggle).isChecked=!1},e.prototype.ocAndroid=function(e){"back"==e.target.name?this.node.parent.getChildByName("android").active=!1:this.node.parent.getChildByName("android").active=!0},e.prototype.inAndroid=function(){location.href="http://debugtbs.qq.com"},__decorate([l(cc.Node)],e.prototype,"isConsent",void 0),__decorate([l(cc.Prefab)],e.prototype,"loginPanel",void 0),__decorate([l(cc.Prefab)],e.prototype,"tips",void 0),e=__decorate([a],e)}(cc.Component);i.default=d,cc._RF.pop()},{"./TipsCtrl":"TipsCtrl"}],TipsCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"4191boVIxRHCqQQ+YlyhaBP","TipsCtrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,a=n.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e}return __extends(e,t),e.prototype.changeLabel=function(e){this.label.string=e},e.prototype.close=function(){this.node.destroy()},__decorate([a(cc.Label)],e.prototype,"label",void 0),e=__decorate([o],e)}(cc.Component);i.default=l,cc._RF.pop()},{}]},{},["BackButton","HomePageCtrl","JudgmentCtrl","LoginCtrl","PlayVideo","Socket","Start","TipsCtrl"]);